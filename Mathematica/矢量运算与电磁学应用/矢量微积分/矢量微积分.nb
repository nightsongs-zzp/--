(* 任务1：叉积与旋度 *)

(* 1.1 定义矢量场 *)
A = {y, -x, z};
B = {x^2, y^2, z^2};

(* 叉积 A × B *)
crossAB = Cross[A, B]
(* 输出: {-x z^2 - y^2 z, -y z^2 + x^2 z, x^3 + y^3} *)

(* 1.2 旋度 ∇ × A 和 ∇ × B *)
curlA = Curl[A, {x, y, z}]
(* 输出: {0, 0, -2} *)

curlB = Curl[B, {x, y, z}]
(* 输出: {0, 0, 0} *)

(* 1.3 验证恒等式 ∇ × (∇φ) = 0 *)
phi = f[x, y, z]; (* 任意标量场 *)
gradPhi = Grad[phi, {x, y, z}];
curlGradPhi = Curl[gradPhi, {x, y, z}] // Simplify
(* 输出: {0, 0, 0}，验证了恒等式 *)

(* 任务2：散度与通量 *)

(* 2.1 计算散度 ∇·F *)
r = Sqrt[x^2 + y^2 + z^2];
F = {x, y, z}/r^3;
divF = Div[F, {x, y, z}] // Simplify
(* 输出: 0 (当 r ≠ 0 时) *)

(* 2.2 使用 VectorPlot3D 绘制矢量场 *)
vectorPlot = VectorPlot3D[F, {x, -2, 2}, {y, -2, 2}, {z, -2, 2},
  VectorPoints -> 10,
  VectorScale -> {0.05, 0.5, Automatic},
  VectorStyle -> Arrowheads[0.02],
  PlotLabel -> "矢量场 F = r/r^3",
  Boxed -> True,
  Axes -> True,
  AxesLabel -> {"x", "y", "z"}]

(* 2.3 物理解释 *)
(* 
这个场与点电荷产生的静电场相似。
在电磁学中，点电荷q在真空中产生的电场为：
E = (1/(4πε₀)) * (q/r²) * r̂ = (1/(4πε₀)) * (q/r³) * r
其中r̂是单位径向矢量。

除了常数因子q/(4πε₀)外，F与E形式完全相同。
在r≠0处，散度为零，这与真空中无电荷区域的高斯定律一致。
在原点处有奇点，对应点电荷的位置。
*)

(* 显示结果 *)
Print["叉积 A × B: ", crossAB]
Print["旋度 ∇ × A: ", curlA]
Print["旋度 ∇ × B: ", curlB]
Print["∇ × (∇φ) = 0 已验证"]
Print["散度 ∇·F = ", divF]
Print["物理解释: 该场与点电荷产生的静电场的径向分量形式相同"]